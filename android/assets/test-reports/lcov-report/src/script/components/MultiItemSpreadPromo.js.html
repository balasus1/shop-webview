<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/script/components/MultiItemSpreadPromo.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">All files</a> / <a href="index.html">src/script/components</a> MultiItemSpreadPromo.js
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import React, { Component } from 'react'
import ItemCover from './ItemCover'
import platforms from '../lib/constants/platforms'
import UnSupportedPod from "./UnSupportedPod";
import textReplace from '../lib/i18n';
import KEY from '../lib/constants/languages/keys';
&nbsp;
&nbsp;
class MultiItemSpreadPromo extends Component {
&nbsp;
<span class="fstat-no" title="function not covered" >  re</span>nderCovers(data, length) {
    const eanData = <span class="cstat-no" title="statement not covered" >this.props.eanData;</span>
    let filteredEans = <span class="cstat-no" title="statement not covered" >this.props.filteredEans;</span>
    let list = <span class="cstat-no" title="statement not covered" >data.list;</span>
    let covers = <span class="cstat-no" title="statement not covered" >[];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (data.content_property === "list_of_lists" &amp;&amp; data.list_of_lists) { // When we receive list of lists</span>
<span class="cstat-no" title="statement not covered" >      for (let i = 0; i &lt; length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        if (i &gt; 3) { <span class="cstat-no" title="statement not covered" >break; </span>}</span>
<span class="cstat-no" title="statement not covered" >          covers.push(</span>
            &lt;ItemCover key={"itemCover" + i} eanObj={eanData[filteredEans[i]] || { images: { ProductPageBookCover: {} } }} /&gt;
          );
      }
    } else <span class="cstat-no" title="statement not covered" >if (list) { // When we receive list</span>
<span class="cstat-no" title="statement not covered" >      for (let i = 0; i &lt; length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        if (i &gt; 3) { <span class="cstat-no" title="statement not covered" >break; </span>}</span>
<span class="cstat-no" title="statement not covered" >        covers.push(</span>
          &lt;ItemCover key={"itemCover" + i} eanObj={eanData[filteredEans[i]] || { images: { ProductPageBookCover: {} } }} /&gt;
        );
      }
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return &lt;div className="covers"&gt;</span>
      {covers}
    &lt;/div&gt;;
  }
&nbsp;
&nbsp;
<span class="fstat-no" title="function not covered" >  re</span>nder() {
    const pod = <span class="cstat-no" title="statement not covered" >this.props.pod;</span>
    const list = <span class="cstat-no" title="statement not covered" >pod.data.list || pod.data.eans;</span>
    const title = <span class="cstat-no" title="statement not covered" >pod.data.title;</span>
    const subtitle = <span class="cstat-no" title="statement not covered" >pod.data.description;</span>
    const actionLabel = <span class="cstat-no" title="statement not covered" >pod.data.action_label.toUpperCase();</span>
    const listOfList = <span class="cstat-no" title="statement not covered" >pod.data.list_of_lists;</span>
    // iOS isn't allow to "sell" anything
    let cta = <span class="cstat-no" title="statement not covered" >(!window.purchaseDisabled &amp;&amp; actionLabel) ? actionLabel : textReplace(KEY.see_more);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    console.log('window.Device.shopPlatform', window.Device.shopPlatform);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (!list &amp;&amp; !listOfList) {</span>
<span class="cstat-no" title="statement not covered" >      return &lt;UnSupportedPod /&gt;;</span>
    }
&nbsp;
    let length = <span class="cstat-no" title="statement not covered" >0;</span>
    let eansLength = <span class="cstat-no" title="statement not covered" >this.props.filteredEans.length;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    if (list) {</span>
<span class="cstat-no" title="statement not covered" >      length = list.display_count &amp;&amp; list.display_count &gt;= 1 ? list.display_count : eansLength; </span>// check the display count set in LMS.
<span class="cstat-no" title="statement not covered" >      length = list.display_count &gt; eansLength ? eansLength : length; </span>//ignore the display count set in lms when lesser eans are received
    }
    else <span class="cstat-no" title="statement not covered" >if (listOfList) {</span>
<span class="cstat-no" title="statement not covered" >      length = listOfList.display_count &amp;&amp; listOfList.display_count &gt;= 1 ? listOfList.display_count : eansLength; </span>// check the display count set in LMS.
<span class="cstat-no" title="statement not covered" >      length = listOfList.display_count &gt; eansLength ? eansLength : length; </span>//ignore the display count set in lms when lesser eans are received
    }
&nbsp;
<span class="cstat-no" title="statement not covered" >    return &lt;div role="heading" aria-level="2" &gt;</span>
      &lt;div role="link" className={"pod multi-item-spread " + (length &lt;= 2 ? "even" : "") } onClick={<span class="fstat-no" title="function not covered" >()</span> =&gt; <span class="cstat-no" title="statement not covered" >this.props.onClick(pod)}</span>&gt;
        &lt;div className={'pod-details' + (subtitle ? '' : ' no-subtitle')}&gt;
          &lt;div className="title ellipses-line-1"&gt;{title}&lt;/div&gt;
          {subtitle &amp;&amp;
            (window.Device.shopPlatform === 'epd' || window.Device.shopPlatform === 'quill' ?
              &lt;div className="subtitle ellipses lines-1"&gt; {subtitle}&lt;/div&gt;
              :
              &lt;div className="subtitle ellipses lines-2"&gt; {subtitle}&lt;/div&gt;)
          }
          &lt;div tabIndex="0" role="link" aria-label={cta} className="cta ellipses lines-1"&gt;{cta}&lt;/div&gt;
          { this.props.tnc.show_tnc &amp;&amp;
            &lt;div className="subtitle ellipses lines-1 tnc"&gt; {this.props.tnc.tnc.link} &lt;/div&gt;
          }
        &lt;/div&gt;
        {this.renderCovers(pod.data, length)}
      &lt;/div&gt;
    &lt;/div&gt;;
  }
}
&nbsp;
export default MultiItemSpreadPromo;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Mon Dec 18 2023 16:27:02 GMT+0530 (India Standard Time)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
